<template>
    <div onclick={closeOpenedMenu}>
    <!--This is the header section on PMS-->
    <c-header>
        <div class="slds-text-color_error slds-align_absolute-center slds-m-right--x-small" style="margin-top: 22px;">
            <span if:true={showValidPropertyError} >{propertyNotExistError}</span>
            <span if:true={propertySelectionRequest} >{propertySelectMessage}</span>
        </div>
       <c-property-list if:true={showLookup}  label={label} show-label={showLabel}  placeholder={placeholder} id="lookupWrapperId"
            debounce-delay={debounceDelay} minimum-character-to-search={minimumCharacterToSearch} selected-record-name={selectedRecordName}
            onsearch={handleSearch} onclick={handleSearchOnClick} dropdown-height={dropdownHeight} lookup-data={lookupPropertyData}
            object-api-name={objectApiName} field-api-name={fieldApiName} record-limit={recordLimit}
            onselectionchange={handleSelectionChange} is-disabled={disabled} is-required={required}
            filter-condition={filterCondition} create-record={createRecord} onsearchvalue={handleSearchvalue}>
        </c-property-list>

        <div class="slds-align-bottom slds-m-left--xx-small">
            <lightning-button-icon icon-name="utility:refresh" disabled={disabledCondition}  alternative-text="Refresh" onclick={handlerefresh}></lightning-button-icon>
         </div>
        <div class="slds-align-bottom slds-m-left--xx-small">
            <lightning-button-icon icon-name="utility:help"  alternative-text="Help" onclick={handleHelp}></lightning-button-icon>    
        </div>
            
    </c-header>

    <!--This is used to render booking grid -->
    <c-grid if:true={showGrid} is-spinner={isSpinner}  booking-entities={bookingEntities} booking-data={bookingData} service-interruption-data={serviceInterruptionData}
        onexistingbookingclicked={handleExistingBookingClicked} onunitclicked={handleMarkDirty} onexistinginterruptionclicked={handleExistingInterruptionClicked} onselectioncomplete={handleSelectionComplete} onentitybookingclicked={handleEntitybookingclicked}>
    </c-grid>

</div> 
</template>